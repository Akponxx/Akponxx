[{"code":"// android.permission.READ_SMS","color":"#850303","name":"NOTE !!!!! you need permission android.permission.READ_SMS","typeName":"","palette":"86","type":"h","spec":"NOTE !!!!! you need permission android.permission.READ_SMS"},{"code":"// android.permission.READ_SMS","color":"#850303","name":"ملاحظة !!!! تحتاج اضافة اذن الرسائل android.permission.READ_SMS","typeName":"","palette":"86","type":"h","spec":"ملاحظة تحتاج اضافة اذن الرسائل"},{"code":"}\nprivate int totalSMS;\n\tpublic ArrayList\u003cHashMap\u003cString, Object\u003e\u003e getAllSms() {\n\t\tArrayList\u003cHashMap\u003cString, Object\u003e\u003e lstSms \u003d new ArrayList\u003c\u003e();\n\t\tHashMap objSms \u003d new HashMap();\n\t\tUri message \u003d Uri.parse(\"content://sms/\");\n\t\tContentResolver cr \u003d getApplicationContext().getContentResolver();\n\n\t\tandroid.database.Cursor c \u003d cr.query(message, null, null, null, null);\n\t\t//mcontext.startManagingCursor(c);\n\t\ttotalSMS \u003d c.getCount();\n\t\tLog.e(\"apps else\",totalSMS+\" total\");\n\t\tif (c.moveToFirst()) {\n\t\t\tfor (int i \u003d 0; i \u003c totalSMS; i++) {\n\n\t\t\t\tobjSms \u003d new HashMap();\n\t\t\t\tobjSms.put(\"id\", c.getString(c.getColumnIndexOrThrow(\"_id\")));\n\t\t\t\tobjSms.put(\"adress\", c.getString(c.getColumnIndexOrThrow(\"address\")));\n\t\t\t\tobjSms.put(\"msg\", c.getString(c.getColumnIndexOrThrow(\"body\")));\n\t\t\t\tobjSms.put(\"read\",c.getString(c.getColumnIndex(\"read\")));\n\t\t\t\tobjSms.put(\"date\", c.getString(c.getColumnIndexOrThrow(\"date\")));\n\t\t\t\tif (c.getString(c.getColumnIndexOrThrow(\"type\")).contains(\"1\")) {\n\t\t\t\t\tobjSms.put(\"type\", \"received\");\n\t\t\t\t} else {\n\t\t\t\t\tobjSms.put(\"type\", \"sent\");\n\t\t\t\t}\n\n\t\t\t\tlstSms.add(objSms);\n\n\t\t\t\tc.moveToNext();\n\t\t\t}\n\t\t}\n\t\tc.close();\n\t\treturn lstSms;\n\t}\n\n\tpublic String millisToDate(long currentTime) {\n\t\tString finalDate;\n\t\tjava.util.Calendar calendar \u003d java.util.Calendar.getInstance();\n\t\tcalendar.setTimeInMillis(currentTime);\n\t\tjava.util.Date date \u003d calendar.getTime();\n\t\tfinalDate \u003d date.toString();\n\t\treturn finalDate;\n\t}\n\n{","color":"#850303","name":"1- put this in More Block","typeName":"","palette":"86","type":" ","spec":"put this block in MoreBlock"},{"code":"","color":"#850303","name":"load sms الحصول على الرسائل","typeName":"","palette":"86","type":"h","spec":"load sms الحصول على الرسائل"},{"code":"if (androidx.core.app.ActivityCompat.checkSelfPermission(%2$s.this, android.Manifest.permission.READ_SMS) \n        \u003d\u003d android.content.pm.PackageManager.PERMISSION_GRANTED) {\n\n//ProgressDialog progressDialog \u003d new ProgressDialog(MainActivity.this);\n\t\t//progressDialog.setProgressStyle(ProgressDialog.STYLE_HORIZONTAL);\n\t\t//progressDialog.setIndeterminate(true);\n\t\t//progressDialog.show();\n\t\tnew Thread(new Runnable() {\n\t\t\n\t\t\t@Override\n\t\t\tpublic void run() {\n\t\t\t\tLooper.prepare();\n\t\t\t\t%1$s \u003d getAllSms();\n\t\t\t\trunOnUiThread(new Runnable() {\n\t\t\t\t\t@Override\n\t\t\t\t\tpublic void run() {\n\t\t\t\t\t\t%3$s\n\t\t\t\t\t\t//progressDialog.dismiss();\n\t\t\t\t\t\tLooper.loop();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}).start();\n\n    } else {\n      showMessage(\"permission !\");\n      Intent intent \u003d new Intent(android.provider.Settings.ACTION_APPLICATION_DETAILS_SETTINGS, Uri.parse(\"package:\" + getPackageName()));\n      intent.addCategory(Intent.CATEGORY_DEFAULT); \n      intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK); \n      startActivity(intent);\n      finish();\n    }\n","color":"#850303","name":"Load Sms to list ","typeName":"","palette":"86","type":"c","spec":"load Sms to listMap %m.listMap activity %m.activity  attachTo ListView "},{"code":"","color":"#850303","name":"Keys المفاتيح","typeName":"","palette":"86","type":"h","spec":"Keys المفاتيح"},{"code":"%1$s.get(_position).get(\"id\").toString()","color":"#850303","name":"ID sms","typeName":"","palette":"86","type":"s","spec":"%m.listMap get ID"},{"code":"%1$s.get(_position).get(\"adress\").toString()","color":"#850303","name":"Adress Sms","typeName":"","palette":"86","type":"s","spec":"%m.listMap get Adress"},{"code":"millisToDate((long)Double.parseDouble(%1$s.get(_position).get(\"date\").toString()))","color":"#850303","name":"Date Sms","typeName":"","palette":"86","type":"s","spec":"%m.listMap get Date"},{"code":"%1$s.get(_position).get(\"type\").toString()","color":"#850303","name":"Type sms (received or sent)","typeName":"","palette":"86","type":"s","spec":"%m.listMap get Type"},{"code":"%1$s.get(_position).get(\"msg\").toString()","color":"#850303","name":"Msg Sms ","typeName":"","palette":"86","type":"s","spec":"%m.listMap get Sms Message"}]